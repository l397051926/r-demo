<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.gennlife.rws.dao.ActiveIndexConfigMapper" >
  <resultMap id="BaseResultMap" type="com.gennlife.rws.entity.ActiveIndexConfig" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 18 21:17:09 CST 2017.
    -->
    <id column="id" property="id" jdbcType="VARCHAR" />
    <result column="active_index_id" property="activeIndexId" jdbcType="VARCHAR" />
    <result column="project_name" property="projectName" jdbcType="VARCHAR" />
    <result column="active_result_desc" property="activeResultDesc" jdbcType="VARCHAR" />
    <result column="active_result" property="activeResult" jdbcType="VARCHAR" />
    <result column="index_result_value" property="indexResultValue" jdbcType="VARCHAR" />
    <result column="index_type" property="indexType" jdbcType="VARCHAR" />
    <result column="operator" property="operator" jdbcType="VARCHAR" />
    <result column="operator_num" property="operatorNum" jdbcType="VARCHAR" />
    <result column="function" property="function" jdbcType="VARCHAR" />
    <result column="function_param" property="functionParam" jdbcType="VARCHAR" />
    <result column="index_column" property="indexColumn" jdbcType="VARCHAR" />
    <result column="index_column_desc" property="indexColumnDesc" jdbcType="VARCHAR" />
    <result column="search_scope" property="searchScope" jdbcType="VARCHAR" />
    <result column="mark" property="mark" jdbcType="VARCHAR" />
    <result column="index_type_desc" property="indexTypeDesc" jdbcType="VARCHAR" />
    <result column="date_format" property="dateFormat" jdbcType="VARCHAR" />
    <result column="is_not_used" property="isNotUsed" jdbcType="INTEGER" />
    <result column="is_other" property="isOther" jdbcType="INTEGER" />
    <result column="index_result_value_is_equal" property="indexResultValueIsEqual" jdbcType="INTEGER" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 18 21:17:09 CST 2017.
    -->
    id, active_index_id, project_name, active_result_desc, active_result, index_result_value, 
    index_type, operator, operator_num, function, function_param, index_column, index_column_desc,
    search_scope, mark,index_type_desc,is_not_used,date_format,index_result_value_is_equal,is_other
  </sql>

  <update id="updateActiveIdToTemp" parameterType="java.lang.Object">
    update
        active_index_config
    set active_index_id = #{param2} where active_index_id=#{param1}

  </update>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 18 21:17:09 CST 2017.
    -->
    select 
    <include refid="Base_Column_List" />
    from active_index_config
    where id = #{id,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByActiveId" parameterType="java.lang.String">
      DELETE  from active_index_config where active_index_id = #{activeIndexId}

  </delete>

  <select id="findActiveIdByConfigId" resultType="java.lang.String" parameterType="java.lang.String">
    SELECT DISTINCT active_index_id from active_index_config where
      id in
    <foreach collection="list" index="index" separator="," open="(" close=")" item="item">
      #{item}
    </foreach>


  </select>
  <select id="getActiveResult" resultType="java.lang.String" parameterType="java.lang.String">
    SELECT active_result from active_index_config where
    active_index_id=#{activeId}
  </select>

  <select id="getActiveIndexType" resultType="java.lang.String" parameterType="java.lang.String">
    SELECT index_type from active_index_config where
    active_index_id=#{activeId}
  </select>

  <!-- 根据活动Id 查询所有的 活动配置信息-->
  <select id="findAllByActiveIndexId" resultMap="BaseResultMap" parameterType="java.lang.String">
    select
    <include refid="Base_Column_List" />
    from active_index_config
    where active_index_id = #{activeIndexId,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 18 21:17:09 CST 2017.
    -->
    delete from active_index_config
    where id = #{id,jdbcType=VARCHAR}
  </delete>
  <insert id="insertBatch" parameterType="java.util.List">
    replace into active_index_config (id, active_index_id, project_name,active_result_desc,active_result,index_result_value,index_type,operator,operator_num,function,function_param,index_column,index_column_desc,search_scope,mark,index_type_desc,is_not_used,date_format,index_result_value_is_equal,is_other)
    values
    <foreach collection="list" item="item" index="index" separator="," >
      (#{item.id},#{item.activeIndexId},#{item.projectName},#{item.activeResultDesc},#{item.activeResult},#{item.indexResultValue},#{item.indexType},#{item.operator},#{item.operatorNum},#{item.function},#{item.functionParam},#{item.indexColumn},#{item.indexColumnDesc},#{item.searchScope},#{item.mark},#{item.indexTypeDesc},#{item.isNotUsed},#{item.dateFormat},#{item.indexResultValueIsEqual},#{item.isOther})
    </foreach>

  </insert>
  <insert id="insert" parameterType="com.gennlife.rws.entity.ActiveIndexConfig" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 18 21:17:09 CST 2017.
    -->
    <selectKey resultType="java.lang.String" keyProperty="id" order="BEFORE" >
      select uuid_short()
    </selectKey>
    insert into active_index_config (id, active_index_id, project_name, 
      active_result_desc, active_result, index_result_value, 
      index_tyoe, operator, operator_num, 
      function, function_param, index_column, 
      index_column_desc, search_scope, mark,index_type_desc,is_not_used,date_format,index_result_value_is_equal,is_other
      )
    values (#{id,jdbcType=VARCHAR}, #{activeIndexId,jdbcType=VARCHAR}, #{projectName,jdbcType=VARCHAR}, 
      #{activeResultDesc,jdbcType=VARCHAR}, #{activeResult,jdbcType=VARCHAR}, #{indexResultValue,jdbcType=VARCHAR}, 
      #{indexTyoe,jdbcType=VARCHAR}, #{operator,jdbcType=VARCHAR}, #{operatorNum,jdbcType=VARCHAR}, 
      #{function,jdbcType=VARCHAR}, #{functionParam,jdbcType=VARCHAR}, #{indexColumn,jdbcType=VARCHAR}, 
      #{indexColumnDesc,jdbcType=VARCHAR}, #{searchScope,jdbcType=VARCHAR}, #{mark,jdbcType=VARCHAR},
      #{indexTypeDesc,jdbcType=VARCHAR},#{isNotUsed,jdbcType=INTEGER},#{dateFormat,jdbcType=VARCHAR},#{indexResultValueIsEqual,jdbcType=VARCHAR},#{isOther,jdbcType=INTEGER}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.gennlife.rws.entity.ActiveIndexConfig" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 18 21:17:09 CST 2017.
    -->
    insert into active_index_config
    <trim prefix="(" suffix=")" suffixOverrides="," >
      id,
      <if test="activeIndexId != null" >
        active_index_id,
      </if>
      <if test="projectName != null" >
        project_name,
      </if>
      <if test="activeResultDesc != null" >
        active_result_desc,
      </if>
      <if test="activeResult != null" >
        active_result,
      </if>
      <if test="indexResultValue != null" >
        index_result_value,
      </if>
      <if test="indexTyoe != null" >
        index_tyoe,
      </if>
      <if test="operator != null" >
        operator,
      </if>
      <if test="operatorNum != null" >
        operator_num,
      </if>
      <if test="function != null" >
        function,
      </if>
      <if test="functionParam != null" >
        function_param,
      </if>
      <if test="indexColumn != null" >
        index_column,
      </if>
      <if test="indexColumnDesc != null" >
        index_column_desc,
      </if>
      <if test="searchScope != null" >
        search_scope,
      </if>
      <if test="mark != null" >
        mark,
      </if>
      <if test="indexTypeDesc != null" >
        index_type_desc,
      </if>
      <if test="isNotUsed != null" >
        is_not_used,
      </if>
      <if test="dateFormat != null" >
        date_format,
      </if>
      <if test="indexResultValueIsEqual != null" >
        index_result_Value_is_equal
      </if>
      <if test="isOther != null" >
        is_other
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      #{id,jdbcType=VARCHAR},
      <if test="activeIndexId != null" >
        #{activeIndexId,jdbcType=VARCHAR},
      </if>
      <if test="projectName != null" >
        #{projectName,jdbcType=VARCHAR},
      </if>
      <if test="activeResultDesc != null" >
        #{activeResultDesc,jdbcType=VARCHAR},
      </if>
      <if test="activeResult != null" >
        #{activeResult,jdbcType=VARCHAR},
      </if>
      <if test="indexResultValue != null" >
        #{indexResultValue,jdbcType=VARCHAR},
      </if>
      <if test="indexTyoe != null" >
        #{indexTyoe,jdbcType=VARCHAR},
      </if>
      <if test="operator != null" >
        #{operator,jdbcType=VARCHAR},
      </if>
      <if test="operatorNum != null" >
        #{operatorNum,jdbcType=VARCHAR},
      </if>
      <if test="function != null" >
        #{function,jdbcType=VARCHAR},
      </if>
      <if test="functionParam != null" >
        #{functionParam,jdbcType=VARCHAR},
      </if>
      <if test="indexColumn != null" >
        #{indexColumn,jdbcType=VARCHAR},
      </if>
      <if test="indexColumnDesc != null" >
        #{indexColumnDesc,jdbcType=VARCHAR},
      </if>
      <if test="searchScope != null" >
        #{searchScope,jdbcType=VARCHAR},
      </if>
      <if test="mark != null" >
        #{mark,jdbcType=VARCHAR},
      </if>
      <if test="indexTypeDesc != null" >
        #{indexTypeDesc,jdbcType=VARCHAR}
      </if>
      <if test="isNotUsed != null" >
        #{isNotUsed,jdbcType=INTEGER}
      </if>
      <if test="dateFormat != null" >
        #{dateFormat,jdbcType=VARCHAR}
      </if>
      <if test="indexResultValueIsEqual != null" >
        #{indexResultValueIsEqual,jdbcType=VARCHAR}
      </if>
      <if test="isOther != null" >
        #{isOther,jdbcType=INTEGER}
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.gennlife.rws.entity.ActiveIndexConfig" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 18 21:17:09 CST 2017.
    -->
    update active_index_config
    <set >
      <if test="activeIndexId != null" >
        active_index_id = #{activeIndexId,jdbcType=VARCHAR},
      </if>
      <if test="projectName != null" >
        project_name = #{projectName,jdbcType=VARCHAR},
      </if>
      <if test="activeResultDesc != null" >
        active_result_desc = #{activeResultDesc,jdbcType=VARCHAR},
      </if>
      <if test="activeResult != null" >
        active_result = #{activeResult,jdbcType=VARCHAR},
      </if>
      <if test="indexResultValue != null" >
        index_result_value = #{indexResultValue,jdbcType=VARCHAR},
      </if>
      <if test="indexTyoe != null" >
        index_tyoe = #{indexTyoe,jdbcType=VARCHAR},
      </if>
      <if test="operator != null" >
        operator = #{operator,jdbcType=VARCHAR},
      </if>
      <if test="operatorNum != null" >
        operator_num = #{operatorNum,jdbcType=VARCHAR},
      </if>
      <if test="function != null" >
        function = #{function,jdbcType=VARCHAR},
      </if>
      <if test="functionParam != null" >
        function_param = #{functionParam,jdbcType=VARCHAR},
      </if>
      <if test="indexColumn != null" >
        index_column = #{indexColumn,jdbcType=VARCHAR},
      </if>
      <if test="indexColumnDesc != null" >
        index_column_desc = #{indexColumnDesc,jdbcType=VARCHAR},
      </if>
      <if test="searchScope != null" >
        search_scope = #{searchScope,jdbcType=VARCHAR},
      </if>
      <if test="mark != null" >
        mark = #{mark,jdbcType=VARCHAR},
      </if>
      <if test="mark != null" >
        index_type_desc = #{indexTypeDesc,jdbcType=VARCHAR},
      </if>
      <if test="mark != null" >
        is_not_used = #{isNotUsed,jdbcType=INTEGER}
      </if>
      <if test="dateFormat != null" >
        date_format = #{dateFormat,jdbcType=VARCHAR}
      </if>
      <if test="indexResultValueIsEqual != null" >
        index_result_value_is_equal = #{indexResultValueIsEqual,jdbcType=VARCHAR}
      </if>
      <if test="isOther != null" >
        is_other = #{isOther,jdbcType=INTEGER}
      </if>
    </set>
    where id = #{id,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.gennlife.rws.entity.ActiveIndexConfig" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 18 21:17:09 CST 2017.
    -->
    update active_index_config
    set active_index_id = #{activeIndexId,jdbcType=VARCHAR},
      project_name = #{projectName,jdbcType=VARCHAR},
      active_result_desc = #{activeResultDesc,jdbcType=VARCHAR},
      active_result = #{activeResult,jdbcType=VARCHAR},
      index_result_value = #{indexResultValue,jdbcType=VARCHAR},
      index_tyoe = #{indexTyoe,jdbcType=VARCHAR},
      operator = #{operator,jdbcType=VARCHAR},
      operator_num = #{operatorNum,jdbcType=VARCHAR},
      function = #{function,jdbcType=VARCHAR},
      function_param = #{functionParam,jdbcType=VARCHAR},
      index_column = #{indexColumn,jdbcType=VARCHAR},
      index_column_desc = #{indexColumnDesc,jdbcType=VARCHAR},
      search_scope = #{searchScope,jdbcType=VARCHAR},
      mark = #{mark,jdbcType=VARCHAR},
      index_type_desc = #{indexTypeDesc,jdbcType=VARCHAR},
      is_not_used = #{isNotUsed,jdbcType=INTEGER},
      date_format = #{dateFormat,jdbcType=VARCHAR},
    index_result_value_is_equal = #{indexResultValueIsEqual,jdbcType=VARCHAR}
    is_other = #{isOther,jdbcType=INTEGER}
    where id = #{id,jdbcType=VARCHAR}
  </update>
  <update id="updateBatch" parameterType="java.util.List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 18 21:17:09 CST 2017.
    -->
    <foreach collection="list"  item="item" index="index" separator="," >
      replace active_index_config
      set active_index_id = #{item.activeIndexId,jdbcType=VARCHAR},
        project_name = #{item.projectName,jdbcType=VARCHAR},
        active_result_desc = #{item.activeResultDesc,jdbcType=VARCHAR},
        active_result = #{item.activeResult,jdbcType=VARCHAR},
        index_result_value = #{item.indexResultValue,jdbcType=VARCHAR},
        index_tyoe = #{item.indexTyoe,jdbcType=VARCHAR},
        operator = #{item.operator,jdbcType=VARCHAR},
        operator_num = #{item.operatorNum,jdbcType=VARCHAR},
        function = #{item.function,jdbcType=VARCHAR},
        function_param = #{item.functionParam,jdbcType=VARCHAR},
        index_column = #{item.indexColumn,jdbcType=VARCHAR},
        index_column_desc = #{item.indexColumnDesc,jdbcType=VARCHAR},
        search_scope = #{item.searchScope,jdbcType=VARCHAR},
        mark = #{item.mark,jdbcType=VARCHAR},
      index_type_desc = #{item.indexTypeDesc,jdbcType=VARCHAR},
      is_not_used = #{item.isNotUsed,jdbcType=INTEGER},
      date_format = #{item.dateFormat,jdbcType=VARCHAR},
      index_result_value_is_equal = #{item.indexResultValueIsEqual,jdbcType=VARCHAR}
      is_other = #{item.isOther,jdbcType=INTEGER}
      where id = #{item.id,jdbcType=VARCHAR}
    </foreach>
  </update>

  <delete id="deleteByPrimaryKeyOnActiveIndex" parameterType="java.lang.String" >
    delete from active_index_config_condition where active_index_config_id = #{activeIndexConfigId,jdbcType=VARCHAR}
  </delete>

</mapper>